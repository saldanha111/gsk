
<div class="row">
    <div class="col-lg-12">
        <div class="ibox">
            <div class="search-form">
                <form onkeypress="return event.keyCode != 13;">
                    <div class="input-group" style="width:100%">
                        <select id="newmember" class="form-control" style="width:100%">
                            <option value="0">{{'Selecciona un grupo'|trans}}</option>
                        {% for group in groups %}
                            <option value="{{group.id}}">{{group.name}}</option>
                        {% endfor %}
                        </select>
                        
                    </div>
                </form>
            </div>
            <br> 
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div>
                <label class="control-label">Justificación</label>
                <textarea name="justification" rows="10" cols="120" required="required" style="width:100%" id="commentG"></textarea>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div>
                <label class="control-label">Introduzca su firma</label>
                <input type="password" name="password"  id="box_passwordG" class="form-control" required="required"><br>
            </div>
        </div>
    </div>
    <div class="col-lg-12">
        <div class="pull-right">
            <button type="button" id="saveListButton" class="btn btn-primary">{{'Guardar nuevos grupos'|trans}}</button>
        </div>
    </div>
</div>

<script>
  $(function() {
    $('#saveListButton').click(function(){addListOfGroups()});
    $('#newmember').change(function(){
        var valid = $(this).val();
        if (valid > 0) {
            if (typeof window.members['id_' + valid] === 'undefined') {
                window.members['id_' + valid] = valid;
                insertGroup(valid);
            } else {
                toastr.error('{{'El grupo ya ha sido añadido.'|trans}}','{{'Warning'|trans}}');
            }
        }
    });
    $("#newmember").chosen({no_results_text: "{{'No se encontraro resultados'|trans}}"});
    
  });
  </script>



