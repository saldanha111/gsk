{% extends '::base.html.twig' %}
{% block page_title %}Docoaro - GSK | {{'Reset password'|trans}} {% endblock %}
{% block head %}
    {{ parent() }}
{% endblock %}
{% block main_title %} {{'Reset password'|trans}} {% endblock %}
{% block breadcrumb %}
<ol class="breadcrumb">
    <li>
        <a href="{{ path('nononsense_home_homepage')}}">{{'Home'|trans}}</a>
    </li>
    <li>
        <a href="{{ path('nononsense_users_homepage')}}">{{'Users'|trans}}</a>
    </li>
    <li class="active">
        <strong>{{'Reset password'|trans}}</strong>
    </li>
</ol>
{% endblock %}
{% block content %}
    {{ form_start(editPass) }}
    {{ form_errors(editPass) }}

    <div class="wrapper wrapper-content animated fadeInUp">
        
        <div class="row">
            <div class="col-lg-12">
                <div class="ibox">
                    <div class="ibox-title">
                        <h5>{{'Reset password'|trans}} <small>{{'All fields are mandatory'|trans}}.</small></h5>
                        <div class="ibox-tools">
                            <a class="collapse-link">
                                <i class="fa fa-chevron-up"></i>
                            </a>
                        </div>
                    </div>
                    <div class="ibox-content form-horizontal">

                        {% if admin != true %}                
                        <div class="form-group">
                            {% for flashMessage in app.session.flashbag.get('pwdError') %}
                                <div class="alert alert-danger alert-dismissable" style="margin: 10px 16px 0 16px">
                                    <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
                                    {{ flashMessage }} 
                                </div>
                                <br />
                            {% endfor %}
                            <label class="col-sm-2 control-label">{{'Old Password'|trans}}</label>
                            <div class="col-sm-10">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                                    <input type="password" name="oldPassword" id="oldPassword" class="form-control" value="" placeholder="{{'Old Password'|trans}}" />
                                </div>
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>
                        {% endif %}


                        {% if form_errors(editPass.password.first) %}
                            <div class="alert alert-danger alert-dismissable">
                                <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
                                {{ form_errors(editPass.password.first) }}    
                            </div>
                        {% endif %}
                        <div class="form-group">
                            <label class="col-sm-2 control-label">{{'New Password'|trans}}</label>
                            <div class="col-sm-10">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-lock"></i></span>
                                    {{ form_widget(
                                        editPass.password.first, 
                                        {
                                        'attr': {
                                            'class': 'form-control',
                                            'placeholder': 'Password'|trans
                                                }
                                        }
                                    ) 
                                    }}
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">{{'Confirm Password'|trans}}</label>
                            <div class="col-sm-10">
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-check"></i></span>
                                    {{ form_widget(
                                        editPass.password.second, 
                                        {
                                        'attr': {
                                            'class': 'form-control',
                                            'placeholder': 'Confirm password'|trans
                                                }
                                        }
                                    ) 
                                    }}
                                </div>
                            </div>
                        </div>                
                    </div>  
                </div>          
            </div>              
        </div>        
                        
        
        <div class="row">
            <div class="col-lg-12">
                {{ form_widget(editPass.save, {'attr' : {'class': 'btn btn-primary'}}) }} 
            </div>
        </div>
    </div>
    
    {{ form_end(editPass) }}
    
    <br /> <br />

{% endblock %}

{% block scripts %}
    {{ parent() }}
    
    <!-- SUMMERNOTE -->
    <script src="/js/plugins/summernote/summernote.js"></script>
    {% if app.request.locale != 'en' %}
    <script src="/js/plugins/summernote/lang/summernote-{{app.request.locale}}.js"></script>    
    {% endif %}
    <!-- iCheck -->
    <script src="/js/plugins/iCheck/icheck.min.js"></script>
    <!-- Image cropper -->
    <script src="/js/plugins/cropper/cropper.min.js"></script>

    <script>
        
        $(document).ready(function(){
             
             ActivateMenu('browse_users');
            $('#side-menu').metisMenu();
       });
    </script>
{% endblock %}


